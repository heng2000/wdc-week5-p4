<!--
 * @Author: yuheng li a1793138
 * @Date: 2023-03-31 10:57:56
 * @LastEditors: yuheng 
 * @LastEditTime: 2023-03-31 12:19:42
 * @FilePath: \express\public\log2.html
 * @Description: 
 * 
 * Copyright (c) ${2023} by ${yuheng li}, All Rights Reserved. 
-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>
            prac 4
        </title>
    </head>
    <body>
        <ul id="ul"></ul>
        <script>
            let ul = document.getElementById("ul");
            let xhr =new XMLHttpRequest();
            xhr.onreadystatechange = function(){
                if (xhr.readyState == 4 && xhr.status == 200)
                {
                    ul.innerHTML ="";
                    let res  =JSON.parse(xhr.response);
                    for (let i = 0; i < res.length; i++)
                    {
                        let li =document.createElement("li");
                        li.innerHTML = res[i];
                        ul.appendChild(li);

                    }
                }
            }
            xhr.open('GET',"/log.json");
            xhr.send();

            setInterval(function(){
                xhr.open("get","/log-ro.json")
                xhr.send()
            },10000)
        </script>
    </body>
</html>